# Incremental minimum spanning tree

This C application implements minimum spanning trees using both top trees and
Kruskal's algorithm.

To build the application, run the `make` command.

## Compare mode

To generate a random graph and compare the resulting minimum spanning trees, run
the following command:

    ./main compare N M R

Here, N should be the number of vertices, M should be the number of edges, and R
should be the number of repeats of the procedure. The application will generate
R random graphs and run both algorithms. If the two algorithms disagree on the
weight of the minimum spanning tree of one of those graphs, then the program
will exit immediately.

The graphs are generated by picking edges randomly without replacement.
Generating the graph takes O(N^2) time and memory, so generating random graphs
is the bottleneck when running the executable in this mode. The weights are
chosen randomly from 0 to 99.

## Command mode

The algorithm can also run on custom graphs. To do this, start the program in
command mode with the following command:

    ./main command

The executable will then accept commands from stdin. The first command should be
a line containing the number of vertices in the graph. Afterwards, it accepts
the following commands in any order:

    link U V W

Add a new edge to the graph from U to V with weight W.

    query U V

Print whether the given edge is part of the current minimum spanning tree or not.

    print

Print the current minimum spanning tree as an adjacency list.

The `input` file contains an example of some commands. It describes the graph
found in the picture on the Wikipedia article for minimum spanning trees.

## Overview of implementation.

The top tree is split into two files: `tree.c` and `top_tree.c`. The `tree.c`
file implements a data structure that stores a tree. The edges adjacent to a
vertex are stored in a linked list. The top tree uses it for operations such as
getting any edge adjacent to a vertex.

The `top_tree.c` file contains the top tree itself. This file is pretty much
line-for-line equivalent to the pseudo-code in the paper.

The `debug.c` file contains some utilities for debugging the top tree
implementation. It has a function that can verify that the top tree satisfies
the invariants.

The `kruskal.c` file contains an implementation of Kruskal's algorithm.

## License

This project is licensed under the Apache license.

Unless you explicitly state otherwise, any contribution intentionally submitted
for inclusion in this project by you, shall be licensed as Apache, without any
additional terms or conditions.
